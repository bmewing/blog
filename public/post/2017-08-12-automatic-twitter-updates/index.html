<!DOCTYPE HTML>

<html>
    <head>
        
            
                <title>Automatic Twitter Updates</title>
            
        

        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <meta name="generator" content="Hugo 0.30" />
        


        
            <meta name="author" content="Mark Ewing">
        
        
            <meta name="description" content="Use the serverless magic of AWS Lambda to auto-tweet my posts">
        

        <meta name="twitter:card" content="summary"/><meta name="twitter:title" content="Automatic Twitter Updates"/>
<meta name="twitter:description" content="Use the serverless magic of AWS Lambda to auto-tweet my posts"/>
<meta name="twitter:site" content="@pofigster"/>

        <meta property="og:title" content="Automatic Twitter Updates" />
<meta property="og:description" content="Use the serverless magic of AWS Lambda to auto-tweet my posts" />
<meta property="og:type" content="article" />
<meta property="og:url" content="http://thug-r.life/post/2017-08-12-automatic-twitter-updates/" />



<meta property="article:published_time" content="2017-08-12T00:00:00&#43;00:00"/>

<meta property="article:modified_time" content="2017-08-12T00:00:00&#43;00:00"/>











        
<meta itemprop="name" content="Automatic Twitter Updates">
<meta itemprop="description" content="Use the serverless magic of AWS Lambda to auto-tweet my posts">


<meta itemprop="datePublished" content="2017-08-12T00:00:00&#43;00:00" />
<meta itemprop="dateModified" content="2017-08-12T00:00:00&#43;00:00" />
<meta itemprop="wordCount" content="764">



<meta itemprop="keywords" content="" />

        

        

        
        
            
        

        
        
            <link rel="stylesheet" href="/css/google-font.css" />
            <link rel="stylesheet" href="/css/font-awesome.min.css" />
            <link rel="stylesheet" href="/css/main.css" />
            <link rel="stylesheet" href="/css/add-on.css" />
            <link rel="stylesheet" href="/css/monokai-sublime.css">
        

        

        
        
        
            
<script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-36686553-3', 'auto');
ga('send', 'pageview');
</script>

        
        <script src="//yihui.name/js/math-code.js"></script>
		<script async
		src="//cdn.bootcss.com/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML">
		</script>
    </head>
    <body>

        
        <div id="wrapper">

    
    
<header id="header">
    
        <h2><a href="/">Thug R Life</i></a></h2>
    

    <nav class="links">
        <ul>
            
                <li>
                    <a href="/post">
                        
                            <i class="fa fa-newspaper-o">&nbsp;</i>Blog
                    </a>
                </li>
            
                <li>
                    <a href="/categories">
                        Categories
                    </a>
                </li>
            
                <li>
                    <a href="/about">
                        About
                    </a>
                </li>
            
        </ul>
    </nav>
    <nav class="main">
        <ul>
            
            <li id="share-nav" class="share-menu" style="display:none;">
                <a class="fa-share-alt" href="#share-menu">Share</a>
            </li>
            
            <li class="search">
                <a class="fa-search" href="#search">Search</a>
                <form id="search" method="get" action="//google.com/search">
                    <input type="text" name="q" placeholder="Search" />
                    <input type="hidden" name="q" value="site:http://thug-r.life/">
                </form>
            </li>
            <li class="menu">
                <a class="fa-bars" href="#menu">Menu</a>
            </li>
        </ul>
    </nav>
</header>


<section id="menu">

    
        <section>
            <form class="search" method="get" action="//google.com/search">
                <input type="text" name="q" placeholder="Search" />
                <input type="hidden" name="q" value="site:http://thug-r.life/">
            </form>
        </section>

    
        <section>
            <ul class="links">
                
                    <li>
                        <a href="/post">
                            <h3>
                                
                                    <i class="fa fa-newspaper-o">&nbsp;</i>
                                
                                Blog
                            </h3>
                        </a>
                    </li>
                
                    <li>
                        <a href="/categories">
                            <h3>
                                
                                Categories
                            </h3>
                        </a>
                    </li>
                
                    <li>
                        <a href="/about">
                            <h3>
                                
                                About
                            </h3>
                        </a>
                    </li>
                
            </ul>
        </section>

    
        <section>
            <ul class="links">
                <header>
                    <h3>Recent Posts</h3>
                </header>
                
                    
                

                
                    <li>
                        <a href="http://thug-r.life/post/2019-09-04-r-user-salaries-stackoverflow/"><p>Analysis of R User Salaries from the 2019 StackOverflow Survey</p></a>
                    </li>
                
                    <li>
                        <a href="http://thug-r.life/post/2019-04-03-tale-of-three-assignment-operators/"><p>A Tale of Three Assignment Operators</p></a>
                    </li>
                
            </ul>
        </section>

    
        
</section>

    <section id="share-menu">
    <section id="social-share-nav">
        <ul class="links">
            <header>
                <h3>Share this post <i class="fa fa-smile-o"></i></h3>
            </header>
            


<li><a href="//twitter.com/share?url=http%3a%2f%2fthug-r.life%2fpost%2f2017-08-12-automatic-twitter-updates%2f&text=Automatic%20Twitter%20Updates&via=pofigster" target="_blank" class="share-btn twitter">
    <i class="fa fa-twitter"></i>
    <p>Twitter</p>
</a></li>


<li><a href="//plus.google.com/share?url=http%3a%2f%2fthug-r.life%2fpost%2f2017-08-12-automatic-twitter-updates%2f" target="_blank" class="share-btn google-plus">
    <i class="fa fa-google-plus"></i>
    <p>Google+</p>
</a></li>


<li><a href="//www.facebook.com/sharer/sharer.php?u=http%3a%2f%2fthug-r.life%2fpost%2f2017-08-12-automatic-twitter-updates%2f" target="_blank" class="share-btn facebook">
    <i class="fa fa-facebook"></i>
    <p>Facebook</p>
</a></li>


<li><a href="//reddit.com/submit?url=http%3a%2f%2fthug-r.life%2fpost%2f2017-08-12-automatic-twitter-updates%2f&title=Automatic%20Twitter%20Updates" target="_blank" class="share-btn reddit">
    <i class="fa fa-reddit-alien"></i>
    <p>Reddit</p>
</a></li>


<li><a href="//www.linkedin.com/shareArticle?url=http%3a%2f%2fthug-r.life%2fpost%2f2017-08-12-automatic-twitter-updates%2f&title=Automatic%20Twitter%20Updates" target="_blank" class="share-btn linkedin">
    <i class="fa fa-linkedin"></i>
    <p>LinkedIn</p>
</a></li>


<li><a href="//www.stumbleupon.com/submit?url=http%3a%2f%2fthug-r.life%2fpost%2f2017-08-12-automatic-twitter-updates%2f&title=Automatic%20Twitter%20Updates" target="_blank" class="share-btn stumbleupon">
    <i class="fa fa-stumbleupon"></i>
    <p>StumbleUpon</p>
</a></li>


<li><a href="mailto:?subject=Check out this post by Mark%20Ewing&body=http%3a%2f%2fthug-r.life%2fpost%2f2017-08-12-automatic-twitter-updates%2f" target="_blank" class="share-btn email">
    <i class="fa fa-envelope"></i>
    <p>Email</p>
</a></li>

        </ul>
    </section>
</section>

    
    <div id="main">
        
        
        <article class="post">
    <header>
    <div class="title">
        
            <h1><a href="http://thug-r.life/post/2017-08-12-automatic-twitter-updates/">Automatic Twitter Updates</a></h1>
            
        
        
            <p>Use the serverless magic of AWS Lambda to auto-tweet my posts</p>
        
    </div>
    <div class="meta">
        
            
        

        <time class="published"
            datetime='2017-08-12'>
            August 12, 2017</time>
        <span class="author">Mark Ewing</span>
        
            <p>4 minute read</p>
        
        
    </div>
</header>


    <section id="social-share">
        <ul class="icons">
            


<li><a href="//twitter.com/share?url=http%3a%2f%2fthug-r.life%2fpost%2f2017-08-12-automatic-twitter-updates%2f&text=Automatic%20Twitter%20Updates&via=pofigster" target="_blank" class="share-btn twitter">
    <i class="fa fa-twitter"></i>
    <p>Twitter</p>
</a></li>


<li><a href="//plus.google.com/share?url=http%3a%2f%2fthug-r.life%2fpost%2f2017-08-12-automatic-twitter-updates%2f" target="_blank" class="share-btn google-plus">
    <i class="fa fa-google-plus"></i>
    <p>Google+</p>
</a></li>


<li><a href="//www.facebook.com/sharer/sharer.php?u=http%3a%2f%2fthug-r.life%2fpost%2f2017-08-12-automatic-twitter-updates%2f" target="_blank" class="share-btn facebook">
    <i class="fa fa-facebook"></i>
    <p>Facebook</p>
</a></li>


<li><a href="//reddit.com/submit?url=http%3a%2f%2fthug-r.life%2fpost%2f2017-08-12-automatic-twitter-updates%2f&title=Automatic%20Twitter%20Updates" target="_blank" class="share-btn reddit">
    <i class="fa fa-reddit-alien"></i>
    <p>Reddit</p>
</a></li>


<li><a href="//www.linkedin.com/shareArticle?url=http%3a%2f%2fthug-r.life%2fpost%2f2017-08-12-automatic-twitter-updates%2f&title=Automatic%20Twitter%20Updates" target="_blank" class="share-btn linkedin">
    <i class="fa fa-linkedin"></i>
    <p>LinkedIn</p>
</a></li>


<li><a href="//www.stumbleupon.com/submit?url=http%3a%2f%2fthug-r.life%2fpost%2f2017-08-12-automatic-twitter-updates%2f&title=Automatic%20Twitter%20Updates" target="_blank" class="share-btn stumbleupon">
    <i class="fa fa-stumbleupon"></i>
    <p>StumbleUpon</p>
</a></li>


<li><a href="mailto:?subject=Check out this post by Mark%20Ewing&body=http%3a%2f%2fthug-r.life%2fpost%2f2017-08-12-automatic-twitter-updates%2f" target="_blank" class="share-btn email">
    <i class="fa fa-envelope"></i>
    <p>Email</p>
</a></li>

        </ul>
    </section>
    

    <div id="content">
        <div id="automatic-twitter-updates" class="section level1">
<h1>Automatic Twitter Updates</h1>
<p>One of my goals with this site is to have as much as possible to automatic. Because it’s a static site, each time I write a post I have to copy all the files (new and updated) to the hosting location so you, the illustrious reader, can enjoy the content I create. Then, I need to promote it. This involves the laborious process of switching to my pinned Chrome tab with Twitter open and writing a tweet remember to paste in a link. I’d like to make it easier for me, so I turned to AWS Lambda.</p>
<div id="aws-lambda" class="section level2">
<h2>AWS Lambda</h2>
<p>Maybe you’re not familiar with the serverless magic that is AWS Lambda - if so, I’m sorry. It will change your life. Unless you only know R, then you’ll mostly just be frustrated.</p>
<p>One of the big points of the ‘cloud’ or IASS (Infrastructure as a Service) is the ability to scale (up or down) on demand - if you just partition an EC2 server on AWS and never spin up/down, you’re probably wasting money. And by probably I mean, almost certainly. Many Fortune 500 companies claim they’re saving money by switching to the cloud but this is often because they have big renewals coming up with their bare metal providers (maybe EMC storage contract is coming up) and so they get to trade infrequent-but-massive capital costs with frequent-but-smaller expense costs. Classic business internal shell games. If you’re a startup or a tech company that deals with highly flexible demand, IASS makes a ton of sense - did you just land a big client? Spin up more servers! Did you just lose a big client or they’ve been with you long enough you don’t care about their performance? Spin some servers down! If you’re writing a little blog, use S3 because you only pay for exactly what you’re storing/using and nothing more keeping your costs at pennies!</p>
<p>So how does AWS Lambda fit into all this? And what do you mean by serverless?</p>
<div id="serverless" class="section level3">
<h3>Serverless</h3>
<p>Serverless is a bit of a misnomer because lambda (I’m going to stop saying AWS Lambda all the time) <em>does</em> run on a server. But, you don’t have to partition the server. Or configure it. Or spin it down. Lambda handles all that. It’s brilliant!</p>
</div>
<div id="lambda-for-scale" class="section level3">
<h3>Lambda for Scale</h3>
<p>With lambda you write a function that does a small block of work in one of the (few) supportedl languages. These are (as of now):</p>
<ul>
<li>Python (2/3)</li>
<li>Node.js (4/6)</li>
<li>Java 8</li>
<li>C#</li>
</ul>
<p>Then, you create a trigger for the lambda code to run. Examples include:</p>
<ul>
<li>Call from an API Gateway</li>
<li>File being uploaded to S3</li>
<li>AWS IoT button being pushed</li>
<li>Alexa Skill</li>
</ul>
<p>The trigger will cause AWS to spin up a container, load your function (and any additional components you included), execute your function and then spin down the container. You, as the developer, only pay by the millisecond that your code is <em>actually running</em> and you can, by default, have 100 of these running simultaneously without you having to manage or own a single server. Again - you only pay when they’re running so you can have an API which gets used once a month and only pay for the 2 seconds it runs but have 100% availability. This is <strong>incredible</strong>.</p>
</div>
</div>
<div id="auto-tweeting" class="section level2">
<h2>Auto Tweeting</h2>
<p>There are lots of options for hosting a static website (including GitHub), so why choose AWS S3 which costs pennies a month? The main reason is the ability to integrate with lambda. I just finished writing a module in Python 2.7 using the <code>tweepy</code> library that is trigger each time I upload new posts to my S3 bucket which tweets out the title and the link. The Python code is pretty simple.</p>
<pre class="python"><code>from __future__ import print_function

import json
import urllib
import boto3
import datetime
import tweepy
from titlecase import titlecase

now = datetime.datetime.now()

s3 = boto3.client(&#39;s3&#39;)


def lambda_handler(event, context):
    key = urllib.unquote_plus(event[&#39;Records&#39;][0][&#39;s3&#39;][&#39;object&#39;][&#39;key&#39;].encode(&#39;utf8&#39;))
    postDate = key[5:15]
    today = str(now.strftime(&quot;%Y-%m-%d&quot;))
    if postDate == today:
        auth = tweepy.OAuthHandler(&#39;XXXX&#39;,&#39;XXXX&#39;)
        auth.set_access_token(&#39;XXXX&#39;,&#39;XXXX&#39;)
        api = tweepy.API(auth)
        postTitle = titlecase(key[16:][:-4].replace(&#39;-&#39;,&#39; &#39;))
        url = &#39;http://thug-r.life/&#39;+key[:-4]+&#39;/&#39;
        
        post = &#39;I just wrote a post called &quot;&#39;+postTitle+&#39;&quot; at &#39;+url
        print(post)
        api.update_status(post)
    else:
        print(&#39;Old post - ignore!&#39;)</code></pre>
<p>I’m not going to go into how to get it all setup - I plan to write a tutorial on how I did everything with this blog in September so I can have at least the full first month costs.</p>
</div>
<div id="conclusion" class="section level2">
<h2>Conclusion</h2>
<p>AWS Lambda is pretty cool and you should learn about it. By using S3 to host this site, I can integrate with lambda to get extra automation around promoting my site.</p>
</div>
</div>

    </div>

    <footer>
        <ul class="stats">
    
        

        
        
            <li>
                
                
                    

                    

                    

                    
                        Categories
                    
                
            </li>
        
    

    
    
        <li><a href='/categoriescloud'>cloud</a></li>
    
        <li><a href='/categoriespython'>python</a></li>
    
</ul>

    </footer>
</article>
<ul class="actions pagination">
    
        <li><a href="http://thug-r.life/post/2017-08-10-legislate-by-executive-order/"
                class="button big previous">Legislate by Executive Order</a></li>
    

    
        <li><a href="http://thug-r.life/post/2017-08-24-purrr-tricks-with-all-subset-regression/"
                class="button big next">purrr Tricks with All Subset Regression</a></li>
    
</ul>



    
        <article class="post">
            <div id="disqus_thread"></div>
<script>
    var disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "thugrlife" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
        </article>
    


    </div>
    
<section id="sidebar">

    
        <section id="intro">
            
            
                
                    <img src="/img/main/logo.jpg" class="intro-circle" width="" alt="Thug R Life" />
                
            
            
                <header>
                    <h2>Thug R Life</h2>
                    <p>Just a blog, by a guy trying to make a difference.<br>Hopefully soon published on <a href='https://www.r-bloggers.com/'>R-bloggers</a></p>
                </header>
            
            <ul class="icons">
                
                
                    
<li><a href="//github.com/bmewing" target="_blank" title="GitHub" class="fa fa-github"></a></li>







































<li><a href="//stackoverflow.com/users/2890590" target="_blank" title="Stack Overflow" class="fa fa-stack-overflow"></a></li>











<li><a href="//twitter.com/pofigster" target="_blank" title="Twitter" class="fa fa-twitter"></a></li>



<li><a href="mailto:b.mark@ewingsonline.com" title="Email" class="fa fa-envelope"></a></li>


                
            </ul>
        </section>

    
        <section id="recent-posts">
            <ul class="posts">
                <header>
                    <h3>Recent Posts</h3>
                </header>
                
                    
                

                
                    
                

                
                    <li>
                        <article>
                            <header>
                                <h3><a href="http://thug-r.life/post/2019-09-04-r-user-salaries-stackoverflow/">Analysis of R User Salaries from the 2019 StackOverflow Survey</a></h3>
                                
                                    
                                
                                <time class="published" datetime=
                                    '2019-09-04'>
                                    September 4, 2019</time>
                            </header>
                        </article>
                    </li>
                
                    <li>
                        <article>
                            <header>
                                <h3><a href="http://thug-r.life/post/2019-04-03-tale-of-three-assignment-operators/">A Tale of Three Assignment Operators</a></h3>
                                
                                    
                                
                                <time class="published" datetime=
                                    '2019-04-03'>
                                    April 3, 2019</time>
                            </header>
                        </article>
                    </li>
                

                
                    <li>
                        <ul class="actions">
                            <li><a href=
                            
                                /post/
                            
                            class="button">View more posts</a></li>
                        </ul>
                    </li>
                
            </ul>
        </section>

    
    
    
    
        <section id="categories">
            <ul class="posts">
                <header>
                    <h3><a href="/categories/">Categories</a></h3>
                </header>

                
                    
                

                
                    <li>
                        <article>
                            <header>
                                <a href="/categories/r/">r</a>
                                <span style="float:right;">11</span>
                            </header>
                        </article>
                    </li>
                
                    <li>
                        <article>
                            <header>
                                <a href="/categories/cloud/">cloud</a>
                                <span style="float:right;">2</span>
                            </header>
                        </article>
                    </li>
                
                    <li>
                        <article>
                            <header>
                                <a href="/categories/life/">life</a>
                                <span style="float:right;">2</span>
                            </header>
                        </article>
                    </li>
                
                    <li>
                        <article>
                            <header>
                                <a href="/categories/meta/">meta</a>
                                <span style="float:right;">1</span>
                            </header>
                        </article>
                    </li>
                
                    <li>
                        <article>
                            <header>
                                <a href="/categories/python/">python</a>
                                <span style="float:right;">1</span>
                            </header>
                        </article>
                    </li>
                
                    <li>
                        <article>
                            <header>
                                <a href="/categories/spark/">spark</a>
                                <span style="float:right;">1</span>
                            </header>
                        </article>
                    </li>
                
            </ul>
        </section>
    

    
        
        <section class="blurb">
            <h2>About</h2>
            <p>I guess I&#39;m starting this blog because I want to do more technical writing or something. Also, I&#39;ve started publishing packages and so I need a platform to promote them on and starting a blog seems like a great way to get r-bloggers to publish my content. We&#39;ll see how it goes.</p>

            <ul class="actions">
                <li><a href="/about/" class="button">Learn More</a></li>
            </ul>
        </section>
        

    
        <section id="footer">
            <ul class="icons">
                
                
                    
<li><a href="//github.com/bmewing" target="_blank" title="GitHub" class="fa fa-github"></a></li>







































<li><a href="//stackoverflow.com/users/2890590" target="_blank" title="Stack Overflow" class="fa fa-stack-overflow"></a></li>











<li><a href="//twitter.com/pofigster" target="_blank" title="Twitter" class="fa fa-twitter"></a></li>



<li><a href="mailto:b.mark@ewingsonline.com" title="Email" class="fa fa-envelope"></a></li>


                
            </ul>

            <p class="copyright">&copy; Thug R Life. Design: <a href="http://html5up.net" target="_blank">HTML5 UP</a>. Ported by <a href="//github.com/jpescador" target="_blank">Julio Pescador</a>. Powered by <a href="//gohugo.io" target="_blank">Hugo</a></p>
        </section>

</section>

            </div>
        <a id="back-to-top" href="#" class="fa fa-arrow-up fa-border fa-2x"></a>
        

        
        
            
        

        
        
            <script src="/js/jquery.min.js"></script>
            <script src="/js/skel.min.js"></script>
            <script src="/js/util.js"></script>
            <script src="/js/main.js"></script>
            <script src="/js/backToTop.js"></script>
            <script src="/js/highlight.pack.js"></script>
        

        

            
            <script>hljs.initHighlightingOnLoad();</script>
            
    </body>
</html>

